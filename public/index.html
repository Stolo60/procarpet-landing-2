<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ProCarpet — Nettoyage de tapis | Carpet Cleaning</title>
  <meta name="description" content="ProCarpet — Nettoyage de tapis écologique à partir de 40 $. Ramassage et livraison gratuits. / Eco-friendly carpet cleaning starting at $40. Free pickup & delivery.">
  <link rel="icon" href="/static/favicon.ico">
  <style>
    :root{
      --bg:#F8FAFC; --text:#0B1220; --muted:#5B6471; --primary:#0F172A;
      --accent:#22C55E; --card:#FFFFFF; --ring:rgba(34,197,94,0.35);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--bg);color:var(--text)}
    a{color:inherit}
    .container{max-width:1120px;margin:0 auto;padding:0 20px}
    .btn{display:inline-block;padding:14px 20px;border-radius:16px;border:1px solid transparent;font-weight:600;text-decoration:none;transition:.2s ease;cursor:pointer}
    .btn-primary{background:var(--accent)} .btn-primary:hover{transform:translateY(-1px);box-shadow:0 10px 30px -10px var(--ring)}
    .btn-ghost{background:transparent;border-color:#E5E7EB}
    header{position:sticky;top:0;background:rgba(248,250,252,.8);backdrop-filter:saturate(180%) blur(12px);border-bottom:1px solid #edf0f3;z-index:20}
    .header-inner{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800;letter-spacing:.2px}
    .brand-logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#34d399);display:grid;place-items:center;color:white;font-weight:900}
    .lang-switch{display:flex;gap:6px;align-items:center;border:1px solid #E5E7EB;border-radius:14px;padding:6px}
    .lang-switch button{border:none;background:none;padding:6px 10px;border-radius:10px;cursor:pointer;font-weight:600}
    .lang-switch button.active{background:var(--primary);color:#fff}
    .hero{padding:64px 0 28px}
    .hero-wrap{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:center}
    .hero h1{font-size:38px;line-height:1.1;margin:0 0 14px;font-weight:800}
    .hero p{font-size:18px;color:var(--muted);margin:0 0 24px}
    .badge{display:inline-flex;gap:10px;align-items:center;background:#fff;border:1px solid #E5E7EB;border-radius:999px;padding:10px 14px;font-weight:700;margin-bottom:14px}
    .pill{background:#eafaf0;color:#0c6e38;border-radius:999px;padding:4px 10px;font-size:13px;font-weight:700}
    .media{border-radius:20px;overflow:hidden;border:1px solid #e9eef2}
    .media img{width:100%;height:auto;display:block}
    .grid{display:grid;gap:18px}
    .features{grid-template-columns:repeat(4,1fr);margin:40px 0}
    .card{background:var(--card);border:1px solid #edf0f3;border-radius:20px;padding:18px}
    .card h3{margin:10px 0 6px;font-size:16px}
    .muted{color:var(--muted)}
    .process{grid-template-columns:repeat(3,1fr)}
    .process .step{position:relative;padding-left:14px}
    .process .step::before{content:attr(data-step);position:absolute;left:-2px;top:-6px;background:var(--primary);color:#fff;border-radius:10px;padding:4px 8px;font-size:12px;font-weight:800}
    .band{margin:30px 0;border:1px dashed #d9e0e6;border-radius:18px;padding:14px 18px;background:#fff}
    .contact{grid-template-columns:1fr .9fr;align-items:start;margin:32px 0 60px}
    form{display:grid;gap:12px}
    label{font-weight:600;font-size:14px}
    input,textarea{width:100%;padding:12px 14px;border:1px solid #d8dee6;border-radius:12px;font-size:16px;outline:none;background:#fff}
    textarea{min-height:140px;resize:vertical}
    input:focus,textarea:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--ring)}
    .toast{position:fixed;right:16px;bottom:16px;background:#101826;color:#fff;padding:14px 16px;border-radius:14px;box-shadow:0 10px 30px -10px rgba(0,0,0,.3);display:none;z-index:50}
    footer{border-top:1px solid #edf0f3;padding:18px 0 36px;color:var(--muted)}
    @media (max-width:960px){
      .hero-wrap,.contact{grid-template-columns:1fr}
      .features{grid-template-columns:repeat(2,1fr)}
      .process{grid-template-columns:1fr}
      .hero{padding-top:28px}
      .header-inner{gap:12px}
    }
  </style>
</head>
<body>

  <header>
    <div class="container header-inner">
      <div class="brand">
        <div class="brand-logo">P</div>
        <div>ProCarpet</div>
      </div>
      <div class="lang-switch" role="group" aria-label="Language switch">
        <button id="btn-fr" class="active" data-lang="fr">FR</button>
        <button id="btn-en" data-lang="en">EN</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero-wrap">
        <div>
          <div class="badge">
            <span class="pill" data-i18n="eco">Produits écologiques</span>
            <span>•</span>
            <span data-i18n="free">Ramassage & livraison gratuits</span>
          </div>
          <h1 data-i18n="hero_title">Nettoyage de tapis professionnel</h1>
          <p data-i18n="hero_sub">À partir de <strong>40&nbsp;$</strong> — service rapide, soigné, et respectueux de l’environnement.</p>
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <a href="#devis" class="btn btn-primary" data-i18n="cta_quote">Demander un devis</a>
            <a href="tel:15145157902" class="btn btn-ghost" data-i18n="cta_call">Appeler maintenant (514-515-7902)</a>
          </div>
        </div>
        <div class="media">
          <img src="/static/carpet-2935773_640.jpg" alt="Carpet cleaning" loading="lazy">
        </div>
      </div>
    </section>

    <section class="grid features">
      <div class="card"><h3 data-i18n="f1">Produits écologiques certifiés</h3><div class="muted" data-i18n="f1d">Sûrs pour la famille et les animaux.</div></div>
      <div class="card"><h3 data-i18n="f2">À partir de 40&nbsp;$</h3><div class="muted" data-i18n="f2d">Tarifs clairs selon taille & état.</div></div>
      <div class="card"><h3 data-i18n="f3">Ramassage & livraison gratuits</h3><div class="muted" data-i18n="f3d">Partout à Montréal et environs.</div></div>
      <div class="card"><h3 data-i18n="f4">Service rapide & pro</h3><div class="muted" data-i18n="f4d">Satisfaction garantie.</div></div>
    </section>

    <section class="grid process">
      <div class="card step" data-step="1"><h3 data-i18n="p1">Réservez</h3><div class="muted" data-i18n="p1d">Choisissez la date qui vous convient.</div></div>
      <div class="card step" data-step="2"><h3 data-i18n="p2">Ramassage</h3><div class="muted" data-i18n="p2d">Nous venons chercher vos tapis.</div></div>
      <div class="card step" data-step="3"><h3 data-i18n="p3">Livraison & paiement</h3><div class="muted" data-i18n="p3d">Retour propre, paiement simple.</div></div>
    </section>

    <div class="band" role="note" aria-label="Pricing note">
      <strong data-i18n="price_line">À partir de 40&nbsp;$ — le prix varie selon la taille et l’état.</strong>
    </div>

    <section id="devis" class="grid contact">
      <div>
        <h2 style="margin:0 0 6px" data-i18n="form_title">Envoyez-nous un message — réponse rapide</h2>
        <p class="muted" style="margin:0 0 14px" data-i18n="form_sub">Sans afficher d’e-mail. Vos demandes arrivent directement chez nous.</p>
        <!-- Formulaire SANS restrictions -->
        <form id="contactForm" novalidate>
          <div>
            <label for="name" data-i18n="label_name">Nom</label>
            <input id="name" name="name" placeholder="Votre nom" />
          </div>
          <div>
            <label for="phone" data-i18n="label_phone">Téléphone</label>
            <input id="phone" name="phone" placeholder="514-515-7902" />
          </div>
          <div>
            <label for="message" data-i18n="label_msg">Message</label>
            <textarea id="message" name="message" placeholder="Décrivez votre besoin..."></textarea>
          </div>
          <input type="hidden" id="lang" name="lang" value="fr">
          <button type="submit" class="btn btn-primary" id="sendBtn" data-i18n="send">Envoyer</button>
          <div id="formHint" class="muted" style="font-size:14px"></div>
        </form>
      </div>
      <div class="card">
        <h3 style="margin:0 0 8px">ProCarpet</h3>
        <div class="muted" style="margin-bottom:10px" data-i18n="service_area">Montréal & environs</div>
        <div class="card" style="background:#0F172A;color:#fff">
          <div style="font-size:13px;opacity:.9;margin-bottom:6px" data-i18n="call_now">Appeler maintenant</div>
          <a href="tel:15145157902" style="display:inline-block;font-size:22px;font-weight:800;color:#fff;text-decoration:none">514-515-7902</a>
        </div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast"></div>

  <footer>
    <div class="container">
      <div>© <span id="year"></span> ProCarpet — <span data-i18n="foot_line">Nettoyage de tapis écologique. Montréal & environs.</span></div>
    </div>
  </footer>

  <script>
    const I18N = {
      fr:{eco:"Produits écologiques",free:"Ramassage & livraison gratuits",hero_title:"Nettoyage de tapis professionnel",
          hero_sub:"À partir de 40 $ — service rapide, soigné, et respectueux de l’environnement.",
          cta_quote:"Demander un devis",cta_call:"Appeler maintenant (514-515-7902)",
          f1:"Produits écologiques certifiés",f1d:"Sûrs pour la famille et les animaux.",
          f2:"À partir de 40 $",f2d:"Tarifs clairs selon taille & état.",
          f3:"Ramassage & livraison gratuits",f3d:"Partout à Montréal et environs.",
          f4:"Service rapide & pro",f4d:"Satisfaction garantie.",
          p1:"Réservez",p1d:"Choisissez la date qui vous convient.",
          p2:"Ramassage",p2d:"Nous venons chercher vos tapis.",
          p3:"Livraison & paiement",p3d:"Retour propre, paiement simple.",
          price_line:"À partir de 40 $ — le prix varie selon la taille et l’état.",
          form_title:"Envoyez-nous un message — réponse rapide",
          form_sub:"Sans afficher d’e-mail. Vos demandes arrivent directement chez nous.",
          label_name:"Nom",label_phone:"Téléphone",label_msg:"Message",
          send:"Envoyer",service_area:"Montréal & environs",call_now:"Appeler maintenant",
          sent_ok:"Message envoyé. Merci ! Nous vous contactons très vite.",
          sent_fail:"Envoi impossible. Réessayez ou appelez le 514-515-7902.",
          foot_line:"Nettoyage de tapis écologique. Montréal & environs."
      },
      en:{eco:"Eco-friendly products",free:"Free pickup & delivery",hero_title:"Professional carpet cleaning",
          hero_sub:"Starting at $40 — fast, spotless, and eco-conscious service.",
          cta_quote:"Request a quote",cta_call:"Call now (514-515-7902)",
          f1:"Certified eco-friendly products",f1d:"Safe for family and pets.",
          f2:"Starting at $40",f2d:"Clear pricing by size & condition.",
          f3:"Free pickup & delivery",f3d:"Montreal and surrounding area.",
          f4:"Fast & professional",f4d:"Satisfaction guaranteed.",
          p1:"Book",p1d:"Choose the date that works for you.",
          p2:"Pickup",p2d:"We collect your rugs.",
          p3:"Delivery & payment",p3d:"Return clean, simple payment.",
          price_line:"Starting at $40 — price varies by size and condition.",
          form_title:"Send us a message — fast response",
          form_sub:"No email shown. Your requests go straight to us.",
          label_name:"Name",label_phone:"Phone",label_msg:"Message",
          send:"Send",service_area:"Montreal & area",call_now:"Call now",
          sent_ok:"Message sent. Thanks! We’ll get back to you shortly.",
          sent_fail:"Could not send. Please try again or call 514-515-7902.",
          foot_line:"Eco-friendly carpet cleaning. Montreal & area."
      }
    };

    const $=(s)=>document.querySelector(s), $$=(s)=>document.querySelectorAll(s);
    const setLang=(lang)=>{
      document.documentElement.lang=lang;
      localStorage.setItem('pc_lang',lang);
      $("#lang").value=lang;
      $$("#btn-fr, #btn-en").forEach(b=>b.classList.remove("active"));
      (lang==='fr'?$("#btn-fr"):$("#btn-en")).classList.add("active");
      $$('[data-i18n]').forEach(el=>{
        const key=el.getAttribute("data-i18n");
        el.textContent=I18N[lang][key]||el.textContent;
      });
    };
    $("#btn-fr").addEventListener("click",()=>setLang('fr'));
    $("#btn-en").addEventListener("click",()=>setLang('en'));
    setLang(localStorage.getItem('pc_lang')||'fr');
    $("#year").textContent=new Date().getFullYear();

    const toast=(msg)=>{const t=$("#toast");t.textContent=msg;t.style.display="block";setTimeout(()=>{t.style.display="none"},3500);};

    $("#contactForm").addEventListener("submit", async (e)=>{
      e.preventDefault();
      const btn=$("#sendBtn");
      btn.disabled=true; btn.textContent=document.documentElement.lang==='fr'?"Envoi...":"Sending...";
      const payload={
        name:$("#name").value.trim(),
        phone:$("#phone").value.trim(),
        message:$("#message").value.trim(),
        lang:$("#lang").value
      };
      try{
        const res=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});
        if(res.ok){ $("#contactForm").reset(); toast(I18N[payload.lang].sent_ok); }
        else{ toast(I18N[payload.lang].sent_fail); }
      }catch(err){ toast(I18N[document.documentElement.lang].sent_fail); }
      finally{ btn.disabled=false; btn.textContent=I18N[document.documentElement.lang].send; }
    });
  </script>
</body>
</html>
